(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{403:function(e,t,s){"use strict";s.r(t);var n=s(42),a=Object(n.a)({},(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("h1",{attrs:{id:"angular-code-guidelines"}},[e._v("Angular Code Guidelines")]),e._v(" "),s("p",[e._v("Building an application and building an application with manageable/scalable code are 2 different things. Despite being an opinionated framework Angular requires some practices on developer's end to be adopted so that the code written is maintainable and scalable.")]),e._v(" "),s("p",[e._v("Every Angular developer must go through "),s("a",{attrs:{href:"https://angular.io/guide/styleguide",target:"_blank",rel:"noopener noreferrer"}},[e._v("Angular's Official Style Guide"),s("OutboundLink")],1),e._v(" at least once. It's complete set of rules and is very well written with recommendations including What to "),s("strong",[e._v("DO")]),e._v(", "),s("strong",[e._v("AVOID")]),e._v(" and "),s("strong",[e._v("CONSIDER")]),e._v(". And I'll be discussing some of the topics from the guide breifly.")]),e._v(" "),s("h2",{attrs:{id:"variables-properties-methods"}},[e._v("Variables, Properties & Methods")]),e._v(" "),s("ul",[s("li",[e._v("Use "),s("code",[e._v("let")]),e._v(" & "),s("code",[e._v("const")]),e._v(" instead of "),s("code",[e._v("var")]),e._v(" as var is function scoped whereas let and const are blocked scoped. let is immutable whereas const isn't.")]),e._v(" "),s("li",[e._v("Don't use _ (underscore) for private methods or properties as Typescript has it covered.")]),e._v(" "),s("li",[e._v("Place "),s("code",[e._v("private")]),e._v(" members after "),s("code",[e._v("public")]),e._v(" members, make sure they are in alphabetic order. (I place ngOnDestroy at the end of file as I find it convenient because that's where the clean up of component takes place normally)")]),e._v(" "),s("li",[e._v("Write small methods - no more than "),s("strong",[e._v("75")]),e._v(" lines of code")]),e._v(" "),s("li",[e._v("Specify properties and variables types")])]),e._v(" "),s("h2",{attrs:{id:"lift-pattern"}},[e._v("LIFT Pattern")]),e._v(" "),s("p",[e._v("Read this: "),s("RouterLink",{attrs:{to:"/frontend/architecture/spa-applications-architecture.html#use-of-lift-pattern"}},[e._v("LIFT Pattern in Single Page Applications")]),e._v(".")],1),e._v(" "),s("h2",{attrs:{id:"comments"}},[e._v("Comments")]),e._v(" "),s("p",[e._v("Make a practice of adding comments on top of your methods.")]),e._v(" "),s("div",{staticClass:"language-ts line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-ts"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("/**\n * @description Checks if the user is verified or not\n *\n * @param string username - the username to be verified\n * @return boolean - verified or not\n**/")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("checkUserVerification")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("username"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[e._v("string")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[e._v("boolean")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("/*...*/")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("return")]),e._v(" isVerified"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br"),s("span",{staticClass:"line-number"},[e._v("6")]),s("br"),s("span",{staticClass:"line-number"},[e._v("7")]),s("br")])]),s("h2",{attrs:{id:"imports"}},[e._v("Imports")]),e._v(" "),s("p",[e._v("Read this: "),s("RouterLink",{attrs:{to:"/frontend/architecture/spa-applications-architecture.html#file-imports"}},[e._v("File Imports in Single Page Applications")]),e._v(".")],1),e._v(" "),s("p",[e._v("More on imports")]),e._v(" "),s("ul",[s("li",[e._v("Import only what you need")]),e._v(" "),s("li",[e._v("Remove usage of a service from a component or any other service remove it's import as well.")])]),e._v(" "),s("h2",{attrs:{id:"take-tslint-seriously"}},[e._v("Take TSLint Seriously")]),e._v(" "),s("p",[e._v("Developers tend to ignore errors or suggestion highlighted by TSLint, which creates proplems in consistency. This might lead Git to show change by the user who actually never worked on that part of the file. Just because other developer used double quotes instead of single and TSLint changes those quotes to single automatically for the new developer.")]),e._v(" "),s("p",[e._v("Plus TSLint adds squigly lines that makes the code look uglier.")]),e._v(" "),s("p",[e._v("Make sure you either use Linter properly or write a code that never wakes the Linter ðŸ‘»")]),e._v(" "),s("p",[e._v("Follow are some basic rules to avoid TSLint errors popping up all across your file.")]),e._v(" "),s("ul",[s("li",[e._v("Prefer use of "),s("code",[e._v("const")]),e._v(" instead "),s("code",[e._v("let")]),e._v(" where possible.")]),e._v(" "),s("li",[e._v("Avoid using "),s("code",[e._v("var")]),e._v(" keyword.")]),e._v(" "),s("li",[e._v("Use single quotations marks.")]),e._v(" "),s("li",[e._v("Keep opening curly brace on the same line.")]),e._v(" "),s("li",[e._v("Enforce curly braces for if/for/do/while statements.")]),e._v(" "),s("li",[e._v("Enforce indentation with tabs or spaces.\n"),s("ul",[s("li",[e._v("Using only one of tabs or spaces for indentation leads to more consistent editor behavior, cleaner diffs in version control.")])])]),e._v(" "),s("li",[e._v("Line should be under max length, recommended length is 140 characters.\n"),s("ul",[s("li",[e._v("Break statements to multi lines, if it exceeds one line to make code more readable.")])])]),e._v(" "),s("li",[e._v("As mentioned earlier order should be maintained in members of the file i.e. Static > Public > Private and in alphabetical order")]),e._v(" "),s("li",[e._v("Append colon at the end of each statement")]),e._v(" "),s("li",[e._v("Use strict comparison i.e. triple equals")]),e._v(" "),s("li",[e._v("Avoid unnecessary white spaces")])]),e._v(" "),s("h2",{attrs:{id:"single-responsibility-principle"}},[e._v("Single Responsibility Principle")]),e._v(" "),s("p",[e._v("Makes your code easier to read and manage and more convenient to test. Consider limiting your components to "),s("strong",[e._v("400")]),e._v(" lines at max. Code is less prone to errors.")]),e._v(" "),s("h2",{attrs:{id:"enums"}},[e._v("Enums")]),e._v(" "),s("p",[e._v("One of the benefits of using Typescript is Enums. Prefer use of enums instead of string literals to ensure consisty throughout the application. Constants may solve the problem with string literals but enums also offers intellisense of what type of values it holds inside.")]),e._v(" "),s("p",[s("strong",[e._v("NOTE:")]),e._v(" Never ever user enums as getters in a smart component, NEVER!")]),e._v(" "),s("h2",{attrs:{id:"inputs-outputs"}},[e._v("@Inputs & @Outputs")]),e._v(" "),s("ul",[s("li",[e._v("Consider placing @Input() or @Output() on the same line as the property it decorates")]),e._v(" "),s("li",[e._v("Don't pass hard coded values into your components. Make them re-usable by adding inputs with default values.")]),e._v(" "),s("li",[e._v("Avoid pointless aliasing of @Input and @Output")])]),e._v(" "),s("div",{staticClass:"language-ts line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-ts"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("/* Avoid pointless aliasing */")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token decorator"}},[s("span",{pre:!0,attrs:{class:"token at operator"}},[e._v("@")]),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("Output")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[e._v("'changeEvent'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v(" change "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("new")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[e._v("EventEmitter"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[e._v("any")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token decorator"}},[s("span",{pre:!0,attrs:{class:"token at operator"}},[e._v("@")]),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("Input")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[e._v("'labelAttribute'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v(" label"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[e._v("string")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("/* Cleaner without aliasing */")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token decorator"}},[s("span",{pre:!0,attrs:{class:"token at operator"}},[e._v("@")]),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("Output")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v(" change "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("new")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[e._v("EventEmitter"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[e._v("any")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token decorator"}},[s("span",{pre:!0,attrs:{class:"token at operator"}},[e._v("@")]),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("Input")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v(" label"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[e._v("string")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br"),s("span",{staticClass:"line-number"},[e._v("6")]),s("br"),s("span",{staticClass:"line-number"},[e._v("7")]),s("br")])]),s("ul",[s("li",[e._v("Avoiding prefixing @Output with "),s("code",[e._v("on")])])]),e._v(" "),s("div",{staticClass:"language-ts line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-ts"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("/* Avoid */")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token decorator"}},[s("span",{pre:!0,attrs:{class:"token at operator"}},[e._v("@")]),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("Output")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v(" onUpdateAppointment "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("new")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[e._v("EventEmitter"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("Appointment"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("/* Prefer */")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token decorator"}},[s("span",{pre:!0,attrs:{class:"token at operator"}},[e._v("@")]),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("Output")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v(" updateAppointment "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("new")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[e._v("EventEmitter"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("Appointment"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br")])]),s("h2",{attrs:{id:"api-calls-response"}},[e._v("API Calls & Response")]),e._v(" "),s("p",[e._v("Read this: "),s("RouterLink",{attrs:{to:"/frontend/architecture/spa-applications-architecture.html#api-calls-response"}},[e._v("API Calls & Response in Single Page Applications")]),e._v(".")],1),e._v(" "),s("h2",{attrs:{id:"general-guidelines"}},[e._v("General Guidelines")]),e._v(" "),s("ul",[s("li",[e._v("Do not nest directories unneccessarily.")]),e._v(" "),s("li",[e._v("Create files for constants i.e. LocalStorage Constants etc")]),e._v(" "),s("li",[e._v("Refactor common methods to services")]),e._v(" "),s("li",[e._v("Use SwitchMap when nesting observables, helps in writing a much cleaner code")]),e._v(" "),s("li",[e._v("Use ts-lint and prettifier and format your code properly")]),e._v(" "),s("li",[e._v("Donâ€™t use JS to get reference of HTML elements e.g. "),s("code",[e._v("document.getElementById")]),e._v(", the are better ways of doing it in Angular")]),e._v(" "),s("li",[e._v("Donâ€™t generate HTML from a method as strings, use components or directives instead")]),e._v(" "),s("li",[e._v("Use find method instead of iterating and finding an item out of an array conditionally")]),e._v(" "),s("li",[e._v("Use ngAfterViewInit if you want to get reference to an element in the template on component load\n"),s("ul",[s("li",[e._v("Avoid using timeouts for such cases with hard coded wait time")])])])]),e._v(" "),s("h2",{attrs:{id:"services"}},[e._v("Services")]),e._v(" "),s("p",[e._v("Instead of providing a service into the module if itâ€™s going to be the part of core module then use providedIn: â€˜rootâ€™ attribute inside a decorator else provide it in the feature module if its score is limited to the module itself. For example\n@Injectable({\nprovidedIn: 'root'\n})\nexport class UserService { }")]),e._v(" "),s("p",[e._v("If not used a in service or component this Service will get tree-shaken in the final build and won't be included in bundle.js")]),e._v(" "),s("h2",{attrs:{id:"shared-components"}},[e._v("Shared Components")]),e._v(" "),s("p",[e._v("If a component is used in more than 1 modules move it into shared module with respective directory. For example\nIf "),s("strong",[e._v("choose-patient")]),e._v(" modal is used in "),s("strong",[e._v("appointment")]),e._v(" and "),s("strong",[e._v("invoicing")]),e._v(" module, in shared module you can move it either "),s("strong",[e._v("appointment")]),e._v(" directory(because primarily it was part of appointment module) or better move it into "),s("strong",[e._v("patients")]),e._v(" directory e.g. "),s("strong",[e._v("shared/components/patients/choose-patient-modal")])]),e._v(" "),s("h2",{attrs:{id:"rxjs"}},[e._v("RxJS")]),e._v(" "),s("p",[e._v("Angular 6+ uses "),s("strong",[e._v("RxJS 6")]),e._v(" internally so letâ€™s make a habbit of using it in our application as well.")]),e._v(" "),s("p",[e._v("Best part of "),s("strong",[e._v("RxJS 6")]),e._v(" is that you import only what you need, without having to import the whole rxjs modules like before.")]),e._v(" "),s("p",[e._v("If you want to read What changed in RxJS 6? Go ahead and read "),s("a",{attrs:{href:"https://www.academind.com/learn/javascript/rxjs-6-what-changed/",target:"_blank",rel:"noopener noreferrer"}},[e._v("this"),s("OutboundLink")],1),e._v(" article.")]),e._v(" "),s("p",[e._v("Since RxJS 6 has some breaking changes and rxjs-compat doesn't cover those. We need to make sure if we are facing any issue related to RxJS, we need to refer to this guide:  "),s("a",{attrs:{href:"https://github.com/ReactiveX/rxjs/blob/master/docs_app/content/guide/v6/migration.md",target:"_blank",rel:"noopener noreferrer"}},[e._v("RxJS v5.x to v6 Update Guide"),s("OutboundLink")],1)]),e._v(" "),s("p",[e._v("Refer to this site for the interactive changes from RxJS 5 -> RxJS 6 "),s("a",{attrs:{href:"https://reactive.how/rxjs/explorer",target:"_blank",rel:"noopener noreferrer"}},[e._v("RxJS Explorer"),s("OutboundLink")],1)])])}),[],!1,null,null,null);t.default=a.exports}}]);