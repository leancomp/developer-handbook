(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{390:function(e,t,s){"use strict";s.r(t);var r=s(42),o=Object(r.a)({},(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("h1",{attrs:{id:"http"}},[e._v("HTTP")]),e._v(" "),s("h2",{attrs:{id:"must-use-http-methods-correctly"}},[e._v("Must: Use HTTP Methods Correctly")]),e._v(" "),s("p",[e._v("Be compliant with the standardized HTTP method semantics summarized as follows:")]),e._v(" "),s("h3",{attrs:{id:"get"}},[e._v("GET")]),e._v(" "),s("p",[e._v("GET requests are used to read a single resource or query set of resources.")]),e._v(" "),s("ul",[s("li",[e._v("GET requests for individual resources will usually generate a 404 if the resource does not exist")]),e._v(" "),s("li",[e._v("GET requests for collection resources may return either 200 (if the listing is empty) or 404 (if the list is missing)")]),e._v(" "),s("li",[e._v("GET requests must NOT have request body payload")])]),e._v(" "),s("p",[e._v("Note: GET requests on collection resources should provide a sufficient filter mechanism as well as pagination.")]),e._v(" "),s("h3",{attrs:{id:"post"}},[e._v("POST")]),e._v(" "),s("p",[e._v("POST requests are idiomatically used to create single resources on a collection resource endpoint, but other semantics on\nsingle resources endpoint are equally possible. The semantic for collection endpoints is best described as »please add the\nenclosed representation to the collection resource identified by the URL«. The semantic for single resource endpoints is\nbest described as »please execute the given well specified request on the collection resource identified by the URL«.")]),e._v(" "),s("ul",[s("li",[e._v("POST request should only be applied to collection resources, and normally not on single resource, as this has an undefined\nsemantic")]),e._v(" "),s("li",[e._v("on successful POST requests, the server will create one or multiple new resources and provide their URI/URLs in the\nresponse")]),e._v(" "),s("li",[e._v("successful POST requests will usually generate 200 (if resources have been updated), 201 (if resources have been created),\nand 202 (if the request was accepted but has not been finished yet)")])]),e._v(" "),s("p",[e._v("More generally: POST should be used for scenarios that cannot be covered by the other methods sufficiently. For instance,\nGET with complex (e.g. SQL like structured) query that needs to be passed as request body payload because of the URL-length\nconstraint. In such cases, make sure to document the fact that POST is used as a workaround.")]),e._v(" "),s("p",[e._v("Note: Resource IDs with respect to POST requests are created and maintained by server and returned with response payload.\nPosting the same resource twice is by itself not required to be idempotent and may result in multiple resource instances.\nAnyhow, if external URIs are present that can be used to identify duplicate requests, it is best practice to implement POST\nin an idempotent way.")]),e._v(" "),s("h3",{attrs:{id:"put"}},[e._v("PUT")]),e._v(" "),s("p",[e._v("PUT requests are used to update single resources or an entire collection resources. The semantic is best described as\n»please put the enclosed representation at the resource mentioned by the URL«.")]),e._v(" "),s("ul",[s("li",[e._v("PUT requests are usually applied to single resources, and not to collection resources, as this would imply replacing the\nentire collection")]),e._v(" "),s("li",[e._v("PUT requests are usually robust against non-existence of resources by implicitly creating before updating")]),e._v(" "),s("li",[e._v("on successful PUT requests, the server will replace the entire resource addressed by the URL with the representation\npassed in the payload")]),e._v(" "),s("li",[e._v("successful PUT requests will usually generate 200 or 204 (if the resource was updated - with or without actual content\nreturned), and 201 (if the resource was created)")])]),e._v(" "),s("p",[e._v("Note: Resource IDs with respect to PUT requests are maintained by the client and passed as a URL path segment. Putting the\nsame resource twice is required to be idempotent and to result in the same single resource instance. If PUT is applied for\ncreating a resource, only URIs should be allowed as resource IDs. If URIs are not available POST should be preferred.")]),e._v(" "),s("h3",{attrs:{id:"patch"}},[e._v("PATCH")]),e._v(" "),s("p",[e._v("PATCH request are only used for partial update of single resources, i.e. where only a specific subset of resource fields\nshould be replaced. The semantic is best described as »please change the resource identified by the URL according to my\nchange request«. The semantic of the change request is not defined in the HTTP standard and must be described in the API\nspecification by using suitable media types.")]),e._v(" "),s("ul",[s("li",[e._v("PATCH requests are usually applied to single resources, and not on collection resources, as this would imply patching on\nthe entire collection")]),e._v(" "),s("li",[e._v("PATCH requests are usually not robust against non-existence of resource instances")]),e._v(" "),s("li",[e._v("on successful PATCH requests, the server will update parts of the resource addressed by the URL as defined by the change\nrequest in the payload")]),e._v(" "),s("li",[e._v("successful PATCH requests will usually generate 200 or 204 (if resources have been updated with or without updated content\nreturned)")])]),e._v(" "),s("p",[e._v("Note: since implementing PATCH correctly is a bit tricky, we strongly suggest to choose one and only one of the following patterns per endpoint, unless forced by a backwards compatible change. In preference order:")]),e._v(" "),s("ol",[s("li",[e._v("use PUT with complete objects to update a resource as long as feasible (i.e. do not use PATCH at all).")]),e._v(" "),s("li",[e._v("use PATCH with partial objects to only update parts of a resource, when ever possible. (This is basically "),s("a",{attrs:{href:"https://tools.ietf.org/html/rfc7396",target:"_blank",rel:"noopener noreferrer"}},[e._v("JSON Merge Patch"),s("OutboundLink")],1),e._v(",\na specialized media type application/merge-patch+json that is a partial resource representation.)")]),e._v(" "),s("li",[e._v("use PATCH with "),s("a",{attrs:{href:"http://tools.ietf.org/html/rfc6902",target:"_blank",rel:"noopener noreferrer"}},[e._v("JSON Patch"),s("OutboundLink")],1),e._v(", a specialized media type application/json-patch+json that\nincludes instructions on how to change the resource.")]),e._v(" "),s("li",[e._v("use POST (with a proper description of what is happening) instead of PATCH if the request does not modify the resource in\na way defined by the semantics of the media type.")])]),e._v(" "),s("p",[e._v("In practice JSON Merge Patch quickly turns out to be too limited, especially when trying to update single objects in large\ncollections (as part of the resource). In this cases JSON Patch can shown its full power while still showing readable patch\nrequests ("),s("a",{attrs:{href:"http://erosb.github.io/post/json-patch-vs-merge-patch",target:"_blank",rel:"noopener noreferrer"}},[e._v("see also"),s("OutboundLink")],1),e._v(").")]),e._v(" "),s("h3",{attrs:{id:"delete"}},[e._v("DELETE")]),e._v(" "),s("p",[e._v("DELETE request are used to delete resources. The semantic is best described as »please delete the resource identified by the URL«.")]),e._v(" "),s("ul",[s("li",[e._v("DELETE requests are usually applied to single resources, not on collection resources, as this would imply deleting the entire collection")]),e._v(" "),s("li",[e._v("successful DELETE request will usually generate 200 (if the deleted resource is returned) or 204 (if no content is returned)")]),e._v(" "),s("li",[e._v("failed DELETE request will usually generate 404 (if the resource cannot be found) or 410 (if the resource was already deleted before)")])]),e._v(" "),s("h3",{attrs:{id:"head"}},[e._v("HEAD")]),e._v(" "),s("p",[e._v("HEAD requests are used retrieve to header information of single resources and resource collections.")]),e._v(" "),s("ul",[s("li",[e._v("HEAD has exactly the same semantics as GET, but returns headers only, no body.")])]),e._v(" "),s("h3",{attrs:{id:"options"}},[e._v("OPTIONS")]),e._v(" "),s("p",[e._v("OPTIONS are used to inspect the available operations (HTTP methods) of a given endpoint.")]),e._v(" "),s("ul",[s("li",[e._v("OPTIONS requests usually either return a comma separated list of methods (provided by an Allow:-Header) or as a structured list of link templates")])]),e._v(" "),s("p",[e._v("Note: OPTIONS is rarely implemented, though it could be used to self-describe the full functionality of a resource.")]),e._v(" "),s("h2",{attrs:{id:"must-fulfill-safeness-and-idempotency-properties"}},[e._v("Must: Fulfill Safeness and Idempotency Properties")]),e._v(" "),s("p",[e._v("An operation can be...")]),e._v(" "),s("ul",[s("li",[e._v("idempotent, i.e. operation will produce the same results if executed once or multiple times (note: this does not necessarily mean returning the same status code)")]),e._v(" "),s("li",[e._v("safe, i.e. must not have side effects such as state changes")])]),e._v(" "),s("p",[e._v("Method implementations must fulfill the following basic properties:")]),e._v(" "),s("table",[s("thead",[s("tr",[s("th",[e._v("HTTP method")]),e._v(" "),s("th",[e._v("safe")]),e._v(" "),s("th",[e._v("idempotent")])])]),e._v(" "),s("tbody",[s("tr",[s("td",[e._v("OPTIONS")]),e._v(" "),s("td",[e._v("YES")]),e._v(" "),s("td",[e._v("YES")])]),e._v(" "),s("tr",[s("td",[e._v("HEAD")]),e._v(" "),s("td",[e._v("YES")]),e._v(" "),s("td",[e._v("YES")])]),e._v(" "),s("tr",[s("td",[e._v("GET")]),e._v(" "),s("td",[e._v("YES")]),e._v(" "),s("td",[e._v("YES")])]),e._v(" "),s("tr",[s("td",[e._v("PUT")]),e._v(" "),s("td",[e._v("NO")]),e._v(" "),s("td",[e._v("YES")])]),e._v(" "),s("tr",[s("td",[e._v("POST")]),e._v(" "),s("td",[e._v("NO")]),e._v(" "),s("td",[e._v("NO")])]),e._v(" "),s("tr",[s("td",[e._v("DELETE")]),e._v(" "),s("td",[e._v("NO")]),e._v(" "),s("td",[e._v("YES")])]),e._v(" "),s("tr",[s("td",[e._v("PATCH")]),e._v(" "),s("td",[e._v("NO")]),e._v(" "),s("td",[e._v("NO")])])])])])}),[],!1,null,null,null);t.default=o.exports}}]);